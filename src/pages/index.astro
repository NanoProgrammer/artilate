---
// src/pages/index.astro
import Layout from '../layouts/Layout.astro'
import Hero from '../components/Hero.astro'
import QualityCards from '../components/QualityCards.astro'
import IngredientsAllergies from '../components/IngredientsAllergies.astro'
import FlavoursCarousel from '../components/FlavoursCarousel.astro'
import FeaturedProducts from '../components/FeaturedProducts.astro'
import Testimonials from '../components/Testimonials.astro'
import WorkEthics from '../components/WorkEthics.astro'
import Newsletter from '../components/Newsletter.astro'

const seoData = {
  title: 'Artilate â€” Handcrafted Chocolates from Colombian Cacao',
  description: 'Premium bean-to-bar chocolates and filled bonbons made in Alberta. Ethically sourced Colombian cacao, handcrafted in small batches with scientific precision.',
  ogType: 'website' as const,
  schemaExtras: {
    '@type': ['LocalBusiness', 'FoodEstablishment'],
    servesCuisine: 'Artisanal Chocolates',
    menu: '/shop',
    hasMenu: {
      '@type': 'Menu',
      name: 'Chocolate Selection',
      hasMenuSection: [
        { '@type': 'MenuSection', name: 'Bonbons', hasMenuItem: [
          { '@type': 'MenuItem', name: 'Classic Box of 9', offers: { '@type': 'Offer', price: '25', priceCurrency: 'CAD' }},
          { '@type': 'MenuItem', name: 'Tropical Box of 9', offers: { '@type': 'Offer', price: '25', priceCurrency: 'CAD' }}
        ]},
        { '@type': 'MenuSection', name: 'Chocolate Bars', hasMenuItem: [
          { '@type': 'MenuItem', name: 'Dark with Pistachio (40g)', offers: { '@type': 'Offer', price: '6', priceCurrency: 'CAD' }}
        ]}
      ]
    }
  }
}
---

<Layout {...seoData}>
  <Hero />
  <QualityCards />
  <IngredientsAllergies />
  <FlavoursCarousel />
  <FeaturedProducts />
  <Testimonials />
  <WorkEthics />
  <Newsletter />
</Layout>

<style>
  /* Global homepage styles */
  :global(.scroll-reveal) {
    opacity: 0;
    transform: translateY(30px);
    transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
  }
  
  :global(.scroll-reveal.revealed) {
    opacity: 1;
    transform: translateY(0);
  }
  
  :global(.fade-in-left) {
    opacity: 0;
    transform: translateX(-40px);
    transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
  }
  
  :global(.fade-in-left.revealed) {
    opacity: 1;
    transform: translateX(0);
  }
  
  :global(.fade-in-right) {
    opacity: 0;
    transform: translateX(40px);
    transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
  }
  
  :global(.fade-in-right.revealed) {
    opacity: 1;
    transform: translateX(0);
  }
</style>

<script>
  // Intersection Observer for scroll animations
  const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
  };

  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('revealed');
      }
    });
  }, observerOptions);

  // Observe all elements with animation classes
  document.addEventListener('DOMContentLoaded', () => {
    const animatedElements = document.querySelectorAll('.scroll-reveal, .fade-in-left, .fade-in-right');
    animatedElements.forEach(el => observer.observe(el));
  });
</script>