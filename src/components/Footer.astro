---
interface FooterLink {
  href: string;
  label: string;
}

interface FooterSection {
  title: string;
  links: FooterLink[];
}

const footerSections: FooterSection[] = [
  {
    title: "Products",
    links: [
      { href: "/shop#chocolate-bars", label: "Chocolate Bars" },
      { href: "/shop#bonbons", label: "Bonbons" },
      { href: "/shop#gift-collections", label: "Gift Collections" },
      { href: "/shop#limited-edition", label: "Limited Editions" },
    ]
  },
  {
    title: "Experience",
    links: [
      //{ href: "/about", label: "Our Story" },
      { href: "/about/process", label: "Bean-to-Bar Process" },
      { href: "/about/craft", label: "Chocolate Craft" },
      { href: "/journal", label: "Journal" },
    ]
  },
  {
    title: "Connect",
    links: [
      { href: "/contact", label: "Contact Us" },
      { href: "/find-us", label: "Find Locations" },
      { href: "/wholesale", label: "Wholesale" },
      //{ href: "/events", label: "Events" },
      //{ href: "/testimonial", label: "Testimonial" },
    ]
  }
];

const socialLinks = [
  { href: "https://instagram.com/artilate.chocolate", label: "Instagram", icon: "instagram" },
  { href: "https://facebook.com/artilate.choc", label: "Facebook", icon: "facebook" }
];

// ðŸ‘‡ AÃ±adido: link a ingredientes en el bloque legal
const legalLinks = [
  { href: "/ingredients", label: "Ingredients & Allergens" },
  { href: "/privacy", label: "Privacy Policy" },
  { href: "/terms", label: "Terms of Sale" },
  { href: "/disclaimer", label: "Disclaimer" },
];

// ðŸ‘‡ Aviso corto de alÃ©rgenos (texto editable)
const allergenNotice = "May contain tree nuts, soy, or milk.";
const currentYear = new Date().getFullYear();
---

<footer class="footer">
  <div class="container">
    <div class="footer-content">
      <div class="footer-grid">
        <!-- Brand Section -->
        <div class="footer-brand">
          <a href="/" class="footer-logo">
            <span class="logo-text">Artilate</span>
          </a>

          <p class="footer-description">
            Artisanal bean-to-bar chocolate crafted with ethically sourced Colombian cacao.
            Every bar tells the story of our farmers and the art of chocolate making.
          </p>

          <div class="footer-socials">
            {socialLinks.map(social => (
              <a
                href={social.href}
                class="social-link"
                aria-label={social.label}
                target="_blank"
                rel="noopener noreferrer"
              >
                {social.icon === 'instagram' && (
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                    <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
                    <path d="m16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
                    <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>
                  </svg>
                )}
                {social.icon === 'facebook' && (
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>
                  </svg>
                )}
              </a>
            ))}
          </div>
        </div>

        <!-- Footer Columns -->
        {footerSections.map(section => (
          <div class="footer-column">
            <h3 class="footer-title">{section.title}</h3>
            <ul class="footer-links">
              {section.links.map(link => (
                <li><a href={link.href} class="footer-link">{link.label}</a></li>
              ))}
            </ul>
          </div>
        ))}
      </div>

      <!-- ðŸ‘‡ Aviso de alÃ©rgenos + link -->
      <div class="footer-notice" role="note">
        <span>{allergenNotice}</span>
        <a href="/ingredients" class="notice-link">See Ingredients & Allergens</a>
      </div>

      <!-- Footer Bottom -->
      <div class="footer-bottom">
        <p class="copyright">&copy; {currentYear} Artilate Chocolate. All rights reserved.</p>
        <nav class="footer-legal" aria-label="Legal">
          {legalLinks.map(link => (
            <a href={link.href} class="legal-link">{link.label}</a>
          ))}
        </nav>
      </div>
    </div>
  </div>
</footer>

<style>
  .footer { background:#141618; border-top:1px solid rgba(212,163,115,.1); padding:80px 0 32px; position:relative; }
  .footer::before{ content:''; position:absolute; top:0; left:0; right:0; height:1px;
    background:linear-gradient(90deg,transparent,#D4A373,transparent); }
  .container{ max-width:1280px; margin:0 auto; padding:0 2rem; }
  .footer-content{ display:flex; flex-direction:column; gap:64px; }
  .footer-grid{ display:grid; grid-template-columns:2fr 1fr 1fr 1fr; gap:64px; }

  .footer-brand{ display:flex; flex-direction:column; gap:24px; }
  .footer-logo{ display:flex; align-items:center; gap:12px; text-decoration:none; color:#FAFAF9; width:fit-content; transition:transform .2s; }
  .footer-logo:hover{ transform:scale(1.02); }
  .logo-text{ font-family:'Playfair Display',serif; font-size:24px; font-weight:500; letter-spacing:-.02em; }
  .footer-description{ font-size:16px; line-height:1.7; color:rgba(250,250,249,.8); max-width:320px; }

  .footer-socials{ display:flex; gap:12px; }
  .social-link{ width:44px; height:44px; background:rgba(212,163,115,.08); border:1px solid rgba(212,163,115,.15);
    border-radius:10px; display:flex; align-items:center; justify-content:center; text-decoration:none; color:rgba(250,250,249,.8); transition:.3s; }
  .social-link:hover{ background:rgba(212,163,115,.15); border-color:rgba(212,163,115,.3); color:#D4A373; transform:translateY(-2px); }

  .footer-column{ display:flex; flex-direction:column; gap:20px; }
  .footer-title{ font-family:'Playfair Display',serif; font-size:18px; font-weight:500; color:#D4A373; margin:0; letter-spacing:-.01em; }
  .footer-links{ display:flex; flex-direction:column; gap:12px; list-style:none; margin:0; padding:0; }
  .footer-link{ color:rgba(250,250,249,.8); text-decoration:none; font-size:15px; transition:.2s; }
  .footer-link:hover{ color:#FAFAF9; padding-left:8px; }

  /* ðŸ‘‡ Estilos del aviso */
  .footer-notice{
    display:flex; flex-wrap:wrap; gap:.6rem 1rem; align-items:center; justify-content:space-between;
    padding:14px 16px; border-radius:12px;
    background:linear-gradient(180deg,rgba(212,163,115,.10),rgba(212,163,115,.06));
    border:1px solid rgba(212,163,115,.18); color:rgba(250,250,249,.9);
  }
  .notice-link{ color:#F6EADB; text-decoration:underline; text-underline-offset:3px; }
  .notice-link:hover{ color:#FFDFAF; }

  .footer-bottom{ display:flex; justify-content:space-between; align-items:center; padding-top:32px; border-top:1px solid rgba(212,163,115,.08); }
  .copyright{ font-size:14px; color:rgba(250,250,249,.6); margin:0; }
  .footer-legal{ display:flex; gap:32px; }
  .legal-link{ color:rgba(250,250,249,.6); text-decoration:none; font-size:14px; transition:color .2s; }
  .legal-link:hover{ color:#D4A373; }

  @media (max-width:992px){
    .footer-grid{ grid-template-columns:1fr 1fr 1fr; }
    .footer-brand{ grid-column:1 / -1; margin-bottom:20px; }
    .footer-content{ gap:48px; }
  }
  @media (max-width:768px){
    .footer{ padding:60px 0 24px; margin-top:80px; }
    .footer-grid{ grid-template-columns:1fr 1fr; gap:40px; }
    .footer-brand{ grid-column:1 / -1; }
    .footer-bottom{ flex-direction:column; gap:20px; text-align:center; }
    .footer-legal{ flex-direction:column; gap:16px; }
    .container{ padding:0 1.5rem; }
  }
  @media (max-width:480px){
    .footer{ padding:48px 0 20px; margin-top:60px; }
    .footer-grid{ grid-template-columns:1fr; gap:32px; }
    .footer-content{ gap:40px; }
  }
</style>
